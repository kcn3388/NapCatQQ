function _0x5dd8(_0x3826f9,_0x42c349){const _0x289ba1=_0x289b();return _0x5dd8=function(_0x5dd8cc,_0x264c2a){_0x5dd8cc=_0x5dd8cc-0x1c6;let _0x7603a9=_0x289ba1[_0x5dd8cc];return _0x7603a9;},_0x5dd8(_0x3826f9,_0x42c349);}const _0x398652=_0x5dd8;function _0x289b(){const _0x5a8d5d=['onLoginFailed','35MwabcA','listener','digest','loginErrorInfo','byGCL','1237794tLTTnJ','qrcode','core','service','3277780JuDczn','result','No\x20quick\x20login\x20accounts\x20available','initPostLogin','quickLoginWithUin','iyRut','oyDUO','proofWaterUrl','Vbmjt','cOTkF','onQRCodeLoginSucceed','system.login.error','error','NodeIKernelLoginListener','system.login.qrcode','find','LocalLoginInfoList','getLoginList','140022008','passwordLogin','2229884NJvMZz','vuPaI','10488296kJKzdZ','errMsg','onQRCodeGetPicture','pngBase64QrcodeData','3522033YetqrW','\x20is\x20not\x20available','isQuickLogin','md5','136gSVvyu','emit','lfFMK','addKernelLoginListener','onQRCodeSessionFailed','hex','1147746Kxlrhm','quick','pNNoR','NodeIKernelLoginService','474268QDHPbq','uin','initListener'];_0x289b=function(){return _0x5a8d5d;};return _0x289b();}(function(_0x59346b,_0x431ec7){const _0x37c73c=_0x5dd8,_0x536288=_0x59346b();while(!![]){try{const _0x2dd4d5=-parseInt(_0x37c73c(0x1ec))/0x1+-parseInt(_0x37c73c(0x1d8))/0x2+-parseInt(_0x37c73c(0x1e8))/0x3+-parseInt(_0x37c73c(0x1f9))/0x4+-parseInt(_0x37c73c(0x1f0))/0x5*(parseInt(_0x37c73c(0x1f5))/0x6)+-parseInt(_0x37c73c(0x1da))/0x7+-parseInt(_0x37c73c(0x1e2))/0x8*(-parseInt(_0x37c73c(0x1de))/0x9);if(_0x2dd4d5===_0x431ec7)break;else _0x536288['push'](_0x536288['shift']());}catch(_0x15b03a){_0x536288['push'](_0x536288['shift']());}}}(_0x289b,0xe061f));import*as _0x4547e6 from'node:crypto';import{Wrapper as _0x1eb77a}from'./qqnt';import{LoginListener}from'./qqnt/listeners';import{sleep}from'@/common/utils/helper';export class NapCatCoreLogin{['core'];[_0x398652(0x1f8)];[_0x398652(0x1f1)];constructor(_0x2d5010){const _0x9aec1c=_0x398652,_0x1757e8={'oyDUO':_0x9aec1c(0x1e6),'weHlA':'onLoginFailed'};this[_0x9aec1c(0x1f7)]=_0x2d5010,this[_0x9aec1c(0x1f8)]=new _0x1eb77a[(_0x9aec1c(0x1eb))](),this[_0x9aec1c(0x1f1)]=new LoginListener(),this[_0x9aec1c(0x1f1)][_0x9aec1c(0x1e6)]=_0x2ad9f0=>{const _0x8c93bf=_0x9aec1c;console[_0x8c93bf(0x1d0)](_0x1757e8[_0x8c93bf(0x1ca)],_0x2ad9f0);},this[_0x9aec1c(0x1f1)][_0x9aec1c(0x1ef)]=_0x5c713c=>{const _0x5b38f5=_0x9aec1c;console[_0x5b38f5(0x1d0)](_0x1757e8['weHlA'],_0x5c713c);};}['init'](_0x5c9157){const _0x2b5ac2=_0x398652;this['service']['initConfig'](_0x5c9157),this[_0x2b5ac2(0x1ee)](),this[_0x2b5ac2(0x1f8)][_0x2b5ac2(0x1e5)](new _0x1eb77a[(_0x2b5ac2(0x1d1))](this[_0x2b5ac2(0x1f1)]));}[_0x398652(0x1ee)](){const _0x16d629=_0x398652,_0x2821d4={'iyRut':_0x16d629(0x1d2)};this['listener'][_0x16d629(0x1dc)]=_0x37c278=>{const _0x12cb3a=_0x16d629;this['core'][_0x12cb3a(0x1e3)](_0x2821d4[_0x12cb3a(0x1c9)],{'url':_0x37c278['qrcodeUrl'],'base64':_0x37c278[_0x12cb3a(0x1dd)]});},this[_0x16d629(0x1f1)][_0x16d629(0x1ce)]=_0x2debe7=>{const _0x1cf911=_0x16d629;this[_0x1cf911(0x1f7)][_0x1cf911(0x1c7)](_0x2debe7);};}[_0x398652(0x1d5)](){const _0xc4ede=_0x398652;return this[_0xc4ede(0x1f8)][_0xc4ede(0x1d5)]();}async[_0x398652(0x1f6)](){const _0x2843eb=_0x398652;this[_0x2843eb(0x1f8)]['getQRCodePicture']();}async[_0x398652(0x1e9)](_0x1cd71d){const _0x3aba3c=_0x398652,_0x36086f={'kqzUz':function(_0x289432,_0x506819){return _0x289432!==_0x506819;},'GmEyk':function(_0x448f1a,_0x588711){return _0x448f1a(_0x588711);}},_0x377c00=await this[_0x3aba3c(0x1d5)]();if(_0x36086f['kqzUz'](_0x377c00[_0x3aba3c(0x1fa)],0x0))throw new Error(_0x3aba3c(0x1c6));const _0x200026=_0x377c00[_0x3aba3c(0x1d4)][_0x3aba3c(0x1d3)](_0x1ca45e=>_0x1ca45e[_0x3aba3c(0x1ed)]===_0x1cd71d);if(!_0x200026||!_0x200026?.[_0x3aba3c(0x1e0)])throw new Error('Quick\x20login\x20for\x20'+_0x1cd71d+_0x3aba3c(0x1df));await _0x36086f['GmEyk'](sleep,0x3e8);const _0xe2cb81=await this[_0x3aba3c(0x1f8)][_0x3aba3c(0x1c8)](_0x1cd71d);if(!_0xe2cb81[_0x3aba3c(0x1fa)])this[_0x3aba3c(0x1f7)][_0x3aba3c(0x1e3)](_0x3aba3c(0x1cf),{'code':_0xe2cb81[_0x3aba3c(0x1fa)],'message':_0xe2cb81[_0x3aba3c(0x1f3)]['errMsg']});}async['password'](_0x32666e,_0x385dba,_0x477ae2,_0x237a62,_0x1bc032){const _0x2c25d4=_0x398652,_0x5a346f={'byGCL':_0x2c25d4(0x1e1),'vuPaI':_0x2c25d4(0x1e7),'lfFMK':function(_0x1148fe,_0x4aca6a){return _0x1148fe||_0x4aca6a;},'pNNoR':function(_0x1a8151,_0x36ed38){return _0x1a8151(_0x36ed38);},'Vbmjt':_0x2c25d4(0x1d6),'cOTkF':'140022013'},_0x16d26a=_0x4547e6['createHash'](_0x5a346f[_0x2c25d4(0x1f4)])['update'](_0x385dba)[_0x2c25d4(0x1f2)](_0x5a346f[_0x2c25d4(0x1d9)]),_0x557851={'uin':_0x32666e,'passwordMd5':_0x16d26a,'step':_0x477ae2&&_0x237a62&&_0x1bc032?0x1:0x0,'newDeviceLoginSig':'','proofWaterSig':_0x5a346f[_0x2c25d4(0x1e4)](_0x477ae2,''),'proofWaterRand':_0x5a346f[_0x2c25d4(0x1e4)](_0x237a62,''),'proofWaterSid':_0x5a346f[_0x2c25d4(0x1e4)](_0x1bc032,'')};await this[_0x2c25d4(0x1d5)](),await _0x5a346f[_0x2c25d4(0x1ea)](sleep,0x3e8);const _0x3633aa=await this[_0x2c25d4(0x1f8)][_0x2c25d4(0x1d7)](_0x557851);switch(_0x3633aa[_0x2c25d4(0x1fa)]){case'0':{break;}case _0x5a346f[_0x2c25d4(0x1cc)]:{this['core']['emit']('system.login.slider',{'url':_0x3633aa['loginErrorInfo'][_0x2c25d4(0x1cb)]});break;}case'4':case _0x5a346f[_0x2c25d4(0x1cd)]:default:{this[_0x2c25d4(0x1f7)]['emit'](_0x2c25d4(0x1cf),{'code':_0x3633aa[_0x2c25d4(0x1fa)],'message':_0x3633aa[_0x2c25d4(0x1f3)][_0x2c25d4(0x1db)]});}}}}