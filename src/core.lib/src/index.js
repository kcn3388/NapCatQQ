const _0x318f18=_0x4ddc;(function(_0x510717,_0x3984fb){const _0x2bb954=_0x4ddc,_0x5e6bdb=_0x510717();while(!![]){try{const _0x2f573a=-parseInt(_0x2bb954(0x160))/0x1*(-parseInt(_0x2bb954(0x172))/0x2)+parseInt(_0x2bb954(0x158))/0x3*(parseInt(_0x2bb954(0x149))/0x4)+-parseInt(_0x2bb954(0x14c))/0x5*(-parseInt(_0x2bb954(0x148))/0x6)+parseInt(_0x2bb954(0x13f))/0x7*(-parseInt(_0x2bb954(0x16e))/0x8)+-parseInt(_0x2bb954(0x156))/0x9+parseInt(_0x2bb954(0x142))/0xa+-parseInt(_0x2bb954(0x140))/0xb*(parseInt(_0x2bb954(0x15c))/0xc);if(_0x2f573a===_0x3984fb)break;else _0x5e6bdb['push'](_0x5e6bdb['shift']());}catch(_0x27e3d4){_0x5e6bdb['push'](_0x5e6bdb['shift']());}}}(_0x1772,0xd25b3));import{Wrapper}from'./qqnt';import{GlobalAdapter}from'./qqnt/adapters';import{NapCatCoreWrapper}from'./wrapper';import{NapCatCoreLogin}from'./login';import{NapCatCoreSession}from'./session';import{NapCatCoreService}from'./service';import{appid,qqVersionConfigInfo}from'@/common/utils/QQBasicInfo';import{dbUtil}from'@/common/utils/db';function _0x1772(){const _0x4145d2=['log','adapter','init','102552wqUfao','push','getBuddyService','then','163pAXoOC','emit','uid','V1_WIN_NQ_','getProfileLikeService','map','Core','dataPath','createConnection','session','loginSuccessCbList','QQNT\x20数据目录：','fPsfk','NodeIGlobalAdapter','40UlLBfq','catch','onLoginSuccess','mkdirSync','16606NsvkTn','getLogger','error','rBFkS','971803TreAdF','2981KzqcCN','login','16990880GvCOoH','debug','dKqTS','登录失败','Windows\x2010\x20Pro','initPostLogin','3510wVlmbg','4CmaQqW','addLoginSuccessCallback','wrapper','12715RWOcfJ','GJaNx','split','system.login.error','uin','stringify','./NapCat/data','.db','本账号数据/缓存目录：','service','6828147lcObnS','curVersion','270843dqjfCb'];_0x1772=function(){return _0x4145d2;};return _0x1772();}import{hostname,systemVersion}from'@/common/utils/system';function _0x4ddc(_0x230d4d,_0x59e55f){const _0x1772e4=_0x1772();return _0x4ddc=function(_0x4ddc63,_0x2cf728){_0x4ddc63=_0x4ddc63-0x13f;let _0x3106ac=_0x1772e4[_0x4ddc63];return _0x3106ac;},_0x4ddc(_0x230d4d,_0x59e55f);}import{selfInfo}from'@/common/data';import _0x232062 from'node:path';import _0x15418d from'node:fs';import{EventEmitter}from'node:events';import*as _0x455a77 from'@log4js-node/log4js-api';export class NapCatCore extends EventEmitter{[_0x318f18(0x159)];[_0x318f18(0x15a)];['wrapper'];[_0x318f18(0x141)];[_0x318f18(0x169)];[_0x318f18(0x155)];['loginSuccessCbList']=[];constructor(){const _0x362ab5=_0x318f18,_0x41e0fc={'LrIXM':'10|0|7|6|8|4|3|5|2|9|1','MFiht':'QQNT\x20版本：','dKqTS':_0x362ab5(0x146)},_0x2ef5dd=_0x41e0fc['LrIXM'][_0x362ab5(0x14e)]('|');let _0x1510bb=0x0;while(!![]){switch(_0x2ef5dd[_0x1510bb++]){case'0':this['log']=_0x455a77[_0x362ab5(0x173)](_0x362ab5(0x166));continue;case'1':this[_0x362ab5(0x141)][_0x362ab5(0x15b)]({'machineId':'','appid':appid,'platVer':systemVersion,'commonPath':this[_0x362ab5(0x14b)]['dataPathGlobal'],'clientVer':qqVersionConfigInfo['curVersion'],'hostName':hostname});continue;case'2':this[_0x362ab5(0x159)][_0x362ab5(0x143)](_0x362ab5(0x16b),this['wrapper']['dataPathGlobal']);continue;case'3':this[_0x362ab5(0x155)]=new NapCatCoreService(this);continue;case'4':this[_0x362ab5(0x169)]=new NapCatCoreSession();continue;case'5':this[_0x362ab5(0x159)][_0x362ab5(0x143)](_0x41e0fc['MFiht'],qqVersionConfigInfo['curVersion']);continue;case'6':this['wrapper']=new NapCatCoreWrapper();continue;case'7':this['adapter']=new GlobalAdapter();continue;case'8':this['login']=new NapCatCoreLogin(this);continue;case'9':this[_0x362ab5(0x14b)][_0x362ab5(0x15b)]({'base_path_prefix':'','platform_type':0x3,'app_type':0x4,'app_version':qqVersionConfigInfo[_0x362ab5(0x157)],'os_version':_0x41e0fc[_0x362ab5(0x144)],'use_xlog':!![],'qua':_0x362ab5(0x163)+qqVersionConfigInfo[_0x362ab5(0x157)]['replace']('-','_')+'_GW_B','global_path_config':{'desktopGlobalPath':this[_0x362ab5(0x14b)]['dataPathGlobal']},'thumb_config':{'maxSide':0x144,'minSide':0x30,'longLimit':0x6,'density':0x2}},new Wrapper[(_0x362ab5(0x16d))](this[_0x362ab5(0x15a)]));continue;case'10':super();continue;}break;}}async[_0x318f18(0x147)](_0xf98772){const _0x147f77=_0x318f18,_0x1a99d6={'GJaNx':_0x147f77(0x145)};this[_0x147f77(0x169)]['init'](_0xf98772['uin'],_0xf98772['uid'],this[_0x147f77(0x14b)]['dataPath'])[_0x147f77(0x15f)](()=>{const _0x2b53c8=_0x147f77;this[_0x2b53c8(0x170)](_0xf98772[_0x2b53c8(0x150)],_0xf98772[_0x2b53c8(0x162)]);})[_0x147f77(0x16f)](_0x35fa1a=>{const _0x501081=_0x147f77;console[_0x501081(0x174)](_0x1a99d6[_0x501081(0x14d)],JSON[_0x501081(0x151)](_0x35fa1a)),this[_0x501081(0x161)](_0x501081(0x14f),{'code':'-1','message':_0x35fa1a});});}[_0x318f18(0x170)](_0x121be4,_0x5bf429){const _0x3e5860=_0x318f18,_0x3aaa9d={'DLbXx':function(_0x3bdd56){return _0x3bdd56();},'oSnJG':function(_0x31eac5,_0x3a4dc1){return _0x31eac5 instanceof _0x3a4dc1;},'MbiCY':_0x3e5860(0x152),'rBFkS':'system.online'},_0x4c1598=_0x232062['resolve'](this[_0x3e5860(0x14b)][_0x3e5860(0x167)],_0x3aaa9d['MbiCY']);_0x15418d[_0x3e5860(0x171)](_0x4c1598,{'recursive':!![]}),this['log'][_0x3e5860(0x143)](_0x3e5860(0x154),_0x4c1598),dbUtil[_0x3e5860(0x168)](_0x232062['resolve'](_0x4c1598,'./'+_0x121be4+_0x3e5860(0x153))),selfInfo[_0x3e5860(0x150)]=_0x121be4,selfInfo['uid']=_0x5bf429,this['service'][_0x3e5860(0x15b)](this[_0x3e5860(0x169)][_0x3e5860(0x14b)]['getMsgService'](),this['session']['wrapper']['getGroupService'](),this[_0x3e5860(0x169)][_0x3e5860(0x14b)][_0x3e5860(0x15e)](),this['session'][_0x3e5860(0x14b)]['getProfileService'](),this[_0x3e5860(0x169)][_0x3e5860(0x14b)][_0x3e5860(0x164)]()),this[_0x3e5860(0x16a)][_0x3e5860(0x165)](_0x16ed05=>{const _0x3ae4c6=_0x3e5860,_0x252773={'fPsfk':function(_0x1fd2a2){return _0x3aaa9d['DLbXx'](_0x1fd2a2);},'mFFfm':function(_0x490227,_0xbc0aa4){return _0x3aaa9d['oSnJG'](_0x490227,_0xbc0aa4);}};new Promise((_0x1a0934,_0x43d4d7)=>{const _0x4b01ff=_0x4ddc,_0x44be18=_0x252773[_0x4b01ff(0x16c)](_0x16ed05);_0x252773['mFFfm'](_0x44be18,Promise)&&_0x44be18['then'](_0x1a0934)[_0x4b01ff(0x16f)](_0x43d4d7);})[_0x3ae4c6(0x15f)]();}),this[_0x3e5860(0x161)](_0x3aaa9d[_0x3e5860(0x175)],{'uin':_0x121be4,'uid':_0x5bf429});}['onMessage'](){}[_0x318f18(0x14a)](_0x2aab3c){const _0x33ec36=_0x318f18;this[_0x33ec36(0x16a)][_0x33ec36(0x15d)](_0x2aab3c);}}export const napCatCore=new NapCatCore();